(()=>{"use strict";const t=chrome.runtime.connect({name:"web3insights"});class e{static async injectScript(){await new Promise((t=>{var e;const n=document.createElement("script");n.src=chrome.extension.getURL("web3_insights_page.js"),(null!==(e=document.head)&&void 0!==e?e:document.documentElement).appendChild(n),n.onload=()=>t()}))}constructor(){window.addEventListener("message",(e=>{"ethereum-property-get"===e.data.type&&t.postMessage({type:"CSA_Web3InsightsEvent",name:"ethereum-property-get",data:{origin:window.location.origin}})}))}static async inject(){return await e.injectScript(),new e}}(new class{async getScriptPort(t){return this.port||(this.port=await t()),this.port}async getTestStartpageFunctionScriptPort(){return await this.getScriptPort((()=>e.inject()))}}).getTestStartpageFunctionScriptPort(),t.onDisconnect.addListener((()=>{window.postMessage({type:"agent_disconnected"},window.location.origin)}))})();